## 1. 写在前面

在之前的博客中，每次使用webpack打包编译完成之后，我们都需要手动打开编译后的index.html文件，这样对于前端开发的调试很不方便。为了解决这一问题，webpack给出了 **开发服务器** 这一方案。在进行开发的过程中，我们可以使用webpack启动一个开发服务器，来实时查看自己的项目，很方便进行调试。

相信很多前端开发者都用过webpack的开发服务器，但是有些开发者不是很了解它。那么在这篇文章中，我就给大家介绍webpack的开发服务器，主要内容包括：

- 安装webpack的开发服务器
- 初步配置webpack的开发服务器

## 2. 安装webpack的开发服务器

首先执行一下命令来安装webpack的开发服务器：

```shell
yarn add webpack-dev-server -D
```

安装完成之后，我们就可以通过 **`npx webpack-dev-server`** 命令启动开发服务器，或者在 **package.json** 文件中新建一条脚本，后续就可以很方便地使用 **npm run** 或 **yarn** 来启动开发服务器。脚本配置如下：

```json
{
  "name": "webpack-learning",
  "version": "1.0.0",
  "main": "index.js",
  "license": "MIT",
  "scripts": {
    "build": "webpack --config webpack.config.js",
    "dev": "webpack-dev-server"
  },
  "devDependencies": {
    "webpack": "^4.32.2",
    "webpack-cli": "^3.3.2",
    "webpack-dev-server": "^3.5.1"
  }
}
```

启动本地服务器之后，我们便可以在浏览器中通过 **http://localhost:8080**  来访问项目了。截图如下：

![](C:\Users\ADMINI~1\AppData\Local\Temp\1559444523323.png)

## 3. 初步配置开发服务器

现在开发服务器已经启动了，但是显而易见的是，当前的开发服务器使用的是默认配置，很大程度上不能满足我们开发的需求，比如：

- 开发服务器不要使用8080端口号，使用其他的端口号
- 开发服务器打开之后，不是在根目录下，而是在 **build** 目录下
- 开发服务器启动之后，我希望自动打开浏览器
- ......

下面我们就讲解一下，如果初步配置开发服务器，完成上述需求。之所以说是初步配置，是因为开发服务器配置内容较多，后面准备单独写一篇博客，讲述开发服务器的详细配置。

其实初步配置开发服务器很简单，在 **webpack.config.json** 文件中新增 **devServer** 属性，该属性是一个对象，我们将一些配置信息写到该对象下即可，配置代码如下：

```js
let path = require("path");

module.exports = {
    devServer: {
        port: 3000,      		// 指定开发服务器的端口号
        progress: true, 		// 显示开启本地服务器的进度
        contentBase: "./build", // 指定本地服务器默认打开的目录
        compress: true      	// 是否对代码进行压缩
    },
    mode: "development",    
    entry: "./src/index.js",    
    output: {       
        filename: "index.js",   
        path: path.resolve(__dirname, "build")  
    }
}
```

现在再次开启开发服务器，就可以通过 **http://localhost:3000** 访问到项目的 **build** 目录了，默认寻找该目录下的 **index.html** 文件进行渲染，如果没有则展示该目录下的所有文件。

## 4. 后记

以上就是对webpack开发服务器的安装和初步配置，关于开发服务器的深入配置，欢迎阅读后续博客。大家加油！















